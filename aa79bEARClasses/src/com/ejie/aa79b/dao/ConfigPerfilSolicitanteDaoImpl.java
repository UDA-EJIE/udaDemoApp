package com.ejie.aa79b.dao;

import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.List;

import org.springframework.jdbc.core.RowMapper;
import org.springframework.stereotype.Repository;
import org.springframework.transaction.annotation.Transactional;

import com.ejie.aa79b.common.SqlUtils;
import com.ejie.aa79b.model.ConfigPerfilSolicitante;

/**
 * ConfigPerfilSolicitanteDaoImpl generated by UDA, 05-dic-2017 15:17:18.
 * @author UDA
 */

@Repository
@Transactional
public class ConfigPerfilSolicitanteDaoImpl extends GenericoDaoImpl<ConfigPerfilSolicitante> implements ConfigPerfilSolicitanteDao {


    public ConfigPerfilSolicitanteDaoImpl() {
		super(ConfigPerfilSolicitante.class);
	}

	public static final String[] ORDER_BY_WHITE_LIST = new String[] {"ID004", "DIASNOCONFORMIDAD004", "URLAYUDANUMPAL004", "DECLARACIONRESPES004", "DECLARACIONRESPEU004"};

	/*
	 * ROW_MAPPERS
	 */
	private RowMapper<ConfigPerfilSolicitante> rwMap = new RowMapper<ConfigPerfilSolicitante>() {
		@Override
		public ConfigPerfilSolicitante mapRow(ResultSet resultSet, int rowNum) throws SQLException {
			ConfigPerfilSolicitante bean = new ConfigPerfilSolicitante();
			bean.setId(resultSet.getInt("ID004"));
			bean.setDiasNoConformidad(resultSet.getLong("DIASNOCONFORMIDAD004"));
			bean.setUrlAyudaNumPal(resultSet.getString("URLAYUDANUMPAL004"));
			bean.setDeclaracionResponsableEs(resultSet.getString("DECLARACIONRESPES004"));
			bean.setDeclaracionResponsableEu(resultSet.getString("DECLARACIONRESPEU004"));
			return bean;
		}
	};

	private RowMapper<ConfigPerfilSolicitante> rwMapPK = new RowMapper<ConfigPerfilSolicitante>() {
		@Override
		public ConfigPerfilSolicitante mapRow(ResultSet resultSet, int rowNum) throws SQLException {
			return new ConfigPerfilSolicitante(
				resultSet.getInt("ID004")
           );
		}
	};


	/*
	 * OPERACIONES CRUD
	 */

    /**
     * Inserts a single row in the ConfigPerfilSolicitante table.
     *
     * @param bean ConfigPerfilSolicitante
     * @return ConfigPerfilSolicitante
     */
	@Override
	public ConfigPerfilSolicitante add(ConfigPerfilSolicitante bean) {
    	String query = "INSERT INTO AA79B04S01 (ID_004, DIAS_NO_CONFORMIDAD_004, URL_AYUDA_NUM_PAL_004, DECLARACION_RESP_ES_004, DECLARACION_RESP_EU_004) VALUES (?,?,?,?,?)";
		this.getJdbcTemplate().update(query, bean.getId(), bean.getDiasNoConformidad(), bean.getUrlAyudaNumPal(), bean.getDeclaracionResponsableEs(), bean.getDeclaracionResponsableEu());
		return bean;
	}

    /**
     * Updates a single row in the ConfigPerfilSolicitante table.
     *
     * @param bean ConfigPerfilSolicitante
     * @return ConfigPerfilSolicitante
     */
    @Override
	public ConfigPerfilSolicitante update(ConfigPerfilSolicitante bean) {
		String query = "UPDATE AA79B04S01 SET DIAS_NO_CONFORMIDAD_004=?, URL_AYUDA_NUM_PAL_004=?, DECLARACION_RESP_ES_004=?, DECLARACION_RESP_EU_004=? WHERE ID_004=?";
		this.getJdbcTemplate().update(query, bean.getDiasNoConformidad(), bean.getUrlAyudaNumPal(), bean.getDeclaracionResponsableEs(), bean.getDeclaracionResponsableEu(), bean.getId());
		return bean;
	}


    /**
     * Removes a single row in the ConfigPerfilSolicitante table.
     *
     * @param configperfilsolicitante ConfigPerfilSolicitante
     * @return
     */
    @Override
	public void remove(ConfigPerfilSolicitante configperfilsolicitante) {
		String query = "DELETE FROM AA79B04S01 WHERE ID_004=?";
		this.getJdbcTemplate().update(query, configperfilsolicitante.getId());
    }

	@Override()
	protected String getSelect() {
		return "SELECT t1.ID_004 ID004, t1.DIAS_NO_CONFORMIDAD_004 DIASNOCONFORMIDAD004, t1.URL_AYUDA_NUM_PAL_004 URLAYUDANUMPAL004, t1.DECLARACION_RESP_ES_004 DECLARACIONRESPES004, t1.DECLARACION_RESP_EU_004 DECLARACIONRESPEU004";
	}

	@Override()
	protected String getFrom() {
		return " FROM AA79B04S01 t1";
	}

	@Override()
	protected RowMapper<ConfigPerfilSolicitante> getRwMap() {
		return this.rwMap;
	}

	@Override()
	protected String[] getOrderBy() {
		return ORDER_BY_WHITE_LIST;
	}

	@Override()
	protected String getPK() {
		return "ID_004";
	}

	@Override()
	protected RowMapper<ConfigPerfilSolicitante> getRwMapPK() {
		return this.rwMapPK;
	}

	@Override()
	protected String getWherePK(ConfigPerfilSolicitante bean, List<Object> params) {
		params.add(bean.getId());
		return " WHERE t1.ID_004 = ?";
	}

	@Override()
	protected String getWhere(ConfigPerfilSolicitante bean, List<Object> params) {
		StringBuilder where = new StringBuilder(ConfigPerfilSolicitanteDaoImpl.STRING_BUILDER_INIT);
		where.append(SqlUtils.generarWhereIgual("ID_004", bean.getId(), params));
		where.append(SqlUtils.generarWhereIgual("DIAS_NO_CONFORMIDAD_004", bean.getDiasNoConformidad(), params));
		where.append(SqlUtils.generarWhereIgual("URL_AYUDA_NUM_PAL_004", bean.getUrlAyudaNumPal(), params));
		return where.toString();
	}

	@Override()
	protected String getWhereLike(ConfigPerfilSolicitante bean, Boolean startsWith, List<Object> params,
			Boolean search) {
		StringBuilder where = new StringBuilder(ConfigPerfilSolicitanteDaoImpl.STRING_BUILDER_INIT);
		where.append(SqlUtils.generarWhereIgual("ID_004", bean.getId(), params));
		where.append(SqlUtils.generarWhereIgual("DIAS_NO_CONFORMIDAD_004", bean.getDiasNoConformidad(), params));
		where.append(SqlUtils.generarWhereLikeNormalizado("URL_AYUDA_NUM_PAL_004", bean.getUrlAyudaNumPal(), params, startsWith));
		return where.toString();
	}
}

