import"jquery";import"handlebars";import"jasmine-jquery";import"rup.feedback";import"rup.tooltip";import*as testutils from"../common/specCommonUtils.js";describe("RUP Feedback Tests",(()=>{beforeAll((e=>{testutils.loadCss(e)})),describe("> Invocación de un RUP Feedback por defecto",(()=>{var e;beforeAll((()=>{jQuery("body").append("<div id='feedback'></div>"),(e=jQuery("#feedback")).rup_feedback({delay:0,fadeSpeed:0})})),afterAll((()=>{jQuery("#feedback").remove()})),it("debería disponer de los estilos de RUP",(()=>{expect(e).toHaveClass("rup-feedback")})),it("debería reservar el área de visualización",(()=>{expect(e.css("display")).toBe("block")})),describe("> Asignación de un mensaje al feedback",(()=>{beforeEach((d=>{e.on("rupFeedback_afterSet"),e.rup_feedback("set","Feedback de ejemplo"),d()})),it("debería de tener controles para cerrar el feedback",(()=>{var d=e.find("div#feedback_closeDiv");expect(d).toExist(),expect(d).toHaveClass("rup-feedback_closeLink")})),it("debería de tener correctamente asigando el texto",(()=>{var d=e.find("div#feedback_content");expect(d).toExist(),expect(d).toContainText("Feedback de ejemplo")})),it("debería de cerrarse al pulsar el enlace de cerrar",(function(d){e.find("div#feedback_closeDiv").trigger("click"),setTimeout((()=>{expect(e).toHaveCss({visibility:"hidden"}),d()}),100)}))})),describe("> Ocultar el feedback mediante la función hide",(()=>{beforeEach((()=>{e.rup_feedback("show")})),afterEach((()=>{})),it("debería de ocultarse el feedback",(function(d){expect(e).toBeVisible(),expect(e).not.toHaveCss({visibility:"hidden"}),e.rup_feedback("hide"),setTimeout((()=>{expect(e).toHaveCss({visibility:"hidden"}),d()}),500)}))}))})),describe("> Creación de diferentes tipos de feedback mediante el método set",(()=>{var e,d,a,r;beforeAll((()=>{jQuery("body").append("<div id='feedback'></div>"),(e=jQuery("#feedback")).rup_feedback({delay:0,fadeSpeed:0}),a=e.attr("id")+"_content",d=e.find("[id='"+a+"']")})),afterAll((()=>{jQuery("#feedback").remove()})),describe("> Mostrar feedback de tipo 'ok' con el texto 'Todo ha ido bien'",(()=>{beforeAll((()=>{r="Todo ha ido bien",e.rup_feedback("set",r,"ok"),d=e.find("[id='"+a+"']")})),it("debería de mostrar el texto 'Todo ha ido bien'",(()=>{expect(d).toContainText(r)})),it("debería de tener asigando el class correspondiente al tipo 'ok'",(()=>{expect(e).toHaveClass("rup-feedback_image_ok")}))})),describe("> Mostrar feedback de tipo 'alert' con el texto 'Se ha producido un mensaje de aviso'",(()=>{beforeAll((()=>{r="Se ha producido un mensaje de aviso",e.rup_feedback("set",r,"alert"),d=e.find("[id='"+a+"']")})),it("debería de mostrar el texto 'Todo ha ido bien'",(()=>{expect(d).toContainText(r)})),it("debería de tener asigando el class correspondiente al tipo 'alert'",(()=>{expect(e).toHaveClass("rup-feedback_image_alert")}))})),describe("> Mostrar feedback de tipo 'error' con el texto 'Se ha producido un error'",(()=>{beforeAll((()=>{r="Se ha producido un error",e.rup_feedback("set",r,"error"),d=e.find("[id='"+a+"']")})),it("debería de mostrar el texto 'Se ha producido un error'",(()=>{expect(d).toContainText(r)})),it("debería de tener asigando el class correspondiente al tipo 'error'",(()=>{expect(e).toHaveClass("rup-feedback_image_error")}))}))}))}));