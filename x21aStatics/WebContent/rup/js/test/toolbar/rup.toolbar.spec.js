import"jquery";import*as testutils from"../common/specCommonUtils.js";import"jasmine-jquery";import"rup.button";import"rup.toolbar";describe("Test Toolbar > ",(()=>{var e;beforeAll((e=>{testutils.loadCss(e)})),beforeEach((t=>{var o=()=>{window.alert("XXX")};let a={buttons:[{id:"searchBtn",css:"mdi mdi-magnify",i18nCaption:"buscar",click:o},{id:"mbutton1",i18nCaption:"botones",buttons:[{id:"searchMBtn",i18nCaption:"buscar",click:o},{id:"editMBtn",i18nCaption:"editar",click:o},{id:"copyMBtn",i18nCaption:"copiar",click:o}]}]};$("#content").append('<div id="exampleToolbar"></div>'),$("#exampleToolbar").rup_toolbar(a),e=$("#exampleToolbar"),setTimeout(t,200)})),afterEach((()=>{$("#content").html(""),$("#content").nextAll().remove()})),describe("Creación > ",(()=>{it("Debe tener la clase adecuada",(()=>{expect(e.hasClass("rup-toolbar ui-widget-header ui-widget ui-widget-content")).toBeTruthy()}))})),describe("Métodos públicos > ",(()=>{describe("Método addButton > ",(()=>{let t;beforeEach((o=>{t={click:()=>{window.alert("ASD")},id:"addedButton",text:"Added Button"},e.rup_toolbar("addButton",t),setTimeout(o,200)})),it("Debe existir el boton",(()=>{expect($('[id="exampleToolbar##addedButton"]').length).toBe(1)}))})),describe("Método addMButton > ",(()=>{let t;beforeEach((o=>{t={idParent:"exampleToolbar",id:"addedMButton",i18nCaption:"addedMButton",buttons:[{id:"new",i18nCaption:"nuevo",css:"nuevo",click:()=>{}},{id:"editar",i18nCaption:"editar",css:"editar",click:()=>{}},{id:"cancelar",i18nCaption:"cancelar",css:"cancelar",click:()=>{}}]};var a=t.idParent+"##"+t.id;e.rup_toolbar("addMButton",t),setTimeout((function(){e.rup_toolbar("addButtonsToMButton",t.buttons,$('[id="'+a+'-mbutton-group"]')),setTimeout(o,200)}),200)})),it("Debe existir el mButton",(()=>{expect($('[id="exampleToolbar##addedMButton"]').length).toBe(1)})),it("Deben existir los botones hijos del MButton",(()=>{expect($('[id="exampleToolbar##addedMButton##new"]').length).toBe(1),expect($('[id="exampleToolbar##addedMButton##editar"]').length).toBe(1),expect($('[id="exampleToolbar##addedMButton##cancelar"]').length).toBe(1)}))})),describe("Método addButtonsToMButton >",(()=>{beforeEach((t=>{e.rup_toolbar("addButtonsToMButton",[{id:"addedButton",i18nCaption:"boton",click:()=>{}}],$('[id="exampleToolbar##mbutton1-mbutton-group"]')),setTimeout(t,200)})),it("Debe existir el botón añadido",(()=>{expect($('[id="exampleToolbar##mbutton1##addedButton"]').length).toBe(1)}))})),describe("Método disableButton > ",(()=>{beforeEach((t=>{e.rup_toolbar("disableButton","searchBtn"),setTimeout(t,200)})),it("Debe tener las clases que lo deshabilitan",(()=>{expect($('[id="exampleToolbar##searchBtn"]').is(":disabled")).toBeTruthy()}))})),describe("Método enableButton > ",(()=>{beforeEach((()=>{e.rup_toolbar("disableButton","searchBtn"),e.rup_toolbar("enableButton","searchBtn")})),it("No debe tener las clases que lo deshabilitan",(()=>{expect($('[id="exampleToolbar##searchBtn"]').is(":enabled")).toBeTruthy()}))})),describe("Método pressButton > ",(()=>{beforeEach((t=>{e.rup_toolbar("pressButton","searchBtn","pressed-button"),setTimeout(t,200)})),it("Debe tener la clase de presionado ",(()=>{expect($('[id="exampleToolbar##searchBtn"]').hasClass("pressed-button")).toBeTruthy()}))})),describe("Método unpressButton > ",(()=>{beforeEach((()=>{e.rup_toolbar("pressButton","searchBtn","pressed-button"),e.rup_toolbar("unpressButton","searchBtn","pressed-button")})),it("No debe tener la clase de presionado ",(()=>{expect($('[id="exampleToolbar##searchBtn"]').hasClass("pressed-button")).toBeFalsy()}))})),describe("Método tooglePressButton > ",(()=>{beforeEach((()=>{e.rup_toolbar("pressButton","searchBtn","pressed-button"),e.rup_toolbar("tooglePressButton","searchBtn","pressed-button")})),it("No debe tener la clase de presionado ",(()=>{expect($('[id="exampleToolbar##searchBtn"]').hasClass("pressed-button")).toBeFalsy()}))})),describe("Método refreshButton > ",(()=>{beforeEach((()=>{$('[id = "exampleToolbar##searchBtn"]').attr("disabled","disabled"),e.rup_toolbar("refreshButton","searchBtn")})),it("Debe actualizar el botón:",(()=>{expect($('[id = "exampleToolbar##searchBtn"]').is(":disabled")).toBeTruthy()}))}))}))}));