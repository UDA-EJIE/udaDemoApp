/*
 * Copyright 2012 E.J.I.E., S.A.
 *
 * Licencia con arreglo a la EUPL, Versión 1.1 exclusivamente (la «Licencia»);
 * Solo podrá usarse esta obra si se respeta la Licencia.
 * Puede obtenerse una copia de la Licencia en
 *
 *      http://ec.europa.eu/idabc/eupl.html
 *
 * Salvo cuando lo exija la legislación aplicable o se acuerde por escrito, 
 * el programa distribuido con arreglo a la Licencia se distribuye «TAL CUAL»,
 * SIN GARANTÍAS NI CONDICIONES DE NINGÚN TIPO, ni expresas ni implícitas.
 * Véase la Licencia en el idioma concreto que rige los permisos y limitaciones
 * que establece la Licencia.
 */
jQuery(function(e){e("#table").rup_table({url:"../jqGridUsuario",colNames:["id","nombre","apellido1","apellido2","ejie","fechaAlta","fechaBaja","rol"],colModel:[{name:"id",index:"id",editable:true,formoptions:{rowpos:3,colpos:1},summaryType:"count",summaryTpl:e.rup.i18nParse(e.rup.i18n.app.gridTree,"total")+" {0}"},{name:"nombre",index:"nombre",editable:true,formoptions:{rowpos:4,colpos:1}},{name:"apellido1",index:"apellido1",editable:true,formoptions:{rowpos:2,colpos:1}},{name:"apellido2",index:"apellido2",editable:true,formoptions:{rowpos:1,colpos:1}},{name:"ejie",index:"ejie",editable:true,edittype:"checkbox",formatter:"checkbox",align:"center",editoptions:{value:"1:0"},formoptions:{rowpos:5,colpos:1}},{name:"fechaAlta",index:"fechaAlta",editable:true,rupType:"date",editoptions:{labelMaskId:"fecha-mask",showButtonPanel:true,showOtherMonths:true,noWeekend:true},formoptions:{rowpos:2,colpos:2},summaryType:c},{name:"fechaBaja",index:"fechaBaja",editable:true,rupType:"date",editoptions:{labelMaskId:"fecha-mask",showButtonPanel:true,showOtherMonths:true,noWeekend:true},formoptions:{rowpos:1,colpos:2},summaryType:b},{name:"rol",index:"rol",editable:true,rupType:"combo",editoptions:{source:[{label:"---",value:""},{label:e.rup.i18n.app["GRID_simple##rol"]["administrador"],value:"administrador"},{label:e.rup.i18n.app["GRID_simple##rol"]["desarrollador"],value:"desarrollador"},{label:e.rup.i18n.app["GRID_simple##rol"]["espectador"],value:"espectador"},{label:e.rup.i18n.app["GRID_simple##rol"]["informador"],value:"informador"},{label:e.rup.i18n.app["GRID_simple##rol"]["manager"],value:"manager"}]},formoptions:{rowpos:3,colpos:2}}],grouping:true,groupingView:{groupField:["nombre"],groupSummary:[true],showSummaryOnHide:[true],groupText:["<b>{0} - {1} Elemento(s)</b>"]},usePlugins:["formEdit","feedback","toolbar","contextMenu","fluid","filter","search","multifilter"],editOptions:{fillDataMethod:"clientSide"},primaryKey:"id",sortname:"id",validate:{rules:{nombre:{required:true},apellido1:{required:true}}},multifilter:{idFilter:"formGrouping",labelSize:255}});function a(h,g,f){if(h===""){contador1=0;contador2=0}if(f[g]==="0"){contador1=contador1+1}else{if(f[g]==="1"){contador2=contador2+1}}if(contador1<contador2){return("1")}else{if(contador1>contador2){return("0")}else{return("-")}}}function c(h,g,f){if(f[g]===null){return h}if(h!==undefined&&h!==""){return(d(h,f[g],true))}else{return(f[g])}}function b(h,g,f){if(f[g]===null){return h}if(h!==undefined&&h!==""){return(d(h,f[g],false))}else{return(f[g])}}function d(h,g,f){var j=h.split("/");var i=g.split("/");if(f===true){if(e.rup.lang==="eu"){if(j[0]>i[0]){return(h)}else{if(j[0]<i[0]){return(g)}else{if(j[1]>i[1]){return(h)}else{if(j[1]<i[1]){return(g)}else{if(j[2]>i[2]){return(h)}else{if(j[2]<i[2]){return(g)}else{return(h)}}}}}}}else{if(j[2]>i[2]){return(h)}else{if(j[2]<i[2]){return(g)}else{if(j[1]>i[1]){return(h)}else{if(j[1]<i[1]){return(g)}else{if(j[0]>i[0]){return(h)}else{if(j[0]<i[0]){return(g)}else{return(h)}}}}}}}}else{if(e.rup.lang==="eu"){if(j[0]<i[0]){return(h)}else{if(j[0]>i[0]){return(g)}else{if(j[1]<i[1]){return(h)}else{if(j[1]>i[1]){return(g)}else{if(j[2]<i[2]){return(h)}else{if(j[2]>i[2]){return(g)}else{return(h)}}}}}}}else{if(j[2]<i[2]){return(h)}else{if(j[2]>i[2]){return(g)}else{if(j[1]<i[1]){return(h)}else{if(j[1]>i[1]){return(g)}else{if(j[0]<i[0]){return(h)}else{if(j[0]>i[0]){return(g)}else{return(h)}}}}}}}}}});