/*
 * Copyright 2012 E.J.I.E., S.A.
 *
 * Licencia con arreglo a la EUPL, Versión 1.1 exclusivamente (la «Licencia»);
 * Solo podrá usarse esta obra si se respeta la Licencia.
 * Puede obtenerse una copia de la Licencia en
 *
 *      http://ec.europa.eu/idabc/eupl.html
 *
 * Salvo cuando lo exija la legislación aplicable o se acuerde por escrito, 
 * el programa distribuido con arreglo a la Licencia se distribuye «TAL CUAL»,
 * SIN GARANTÍAS NI CONDICIONES DE NINGÚN TIPO, ni expresas ni implícitas.
 * Véase la Licencia en el idioma concreto que rige los permisos y limitaciones
 * que establece la Licencia.
 */
jQuery("#comboProvincias").rup_combo({source:"comboEnlazado/remoteEnlazadoProvincia",sourceParam:{label:"dsO",value:"id"},blank:"0"});jQuery("#comboMunicipios").rup_combo({parent:["comboProvincias"],source:"comboEnlazado/remoteEnlazadoMunicipio",sourceParam:{label:"dsO",value:"id"},blank:"0",select:function(){if(jQuery("#comboMunicipios").val()!=="0"){jQuery("#autocomplete_label").rup_autocomplete("enable")}else{jQuery("#autocomplete_label").rup_autocomplete("disable")}}});jQuery("#autocomplete").rup_autocomplete({source:"autocomplete/calleRemote",sourceParam:{label:"dsO",value:"id"},minLength:0,contains:true,extraParams:{provinciaId:function(){return jQuery("#comboProvincias").val()},municipioId:function(){return jQuery("#comboMunicipios").val()}}});jQuery("#comboProvinciasAPI").rup_combo({source:[],blank:"0",select:function(a,b){jQuery("#autocompleteAPI_label").val("");jQuery("#autocompleteAPI_label").rup_autocomplete("disable");if(b.index!==0){jQuery("#comboMunicipiosAPI").rup_combo("enable")}}});jQuery("#comboMunicipiosAPI").rup_combo({parent:["comboProvinciasAPI"],source:function(){findByNameMunicipio()},sourceParam:{label:"dsO",value:"id"},blank:"0",select:function(a,b){if(b.index!==0){jQuery("#autocompleteAPI_label").val("");findByNameCalle(jQuery("#autocompleteAPI_label").val())}else{jQuery("#autocompleteAPI_label").val("");jQuery("#autocompleteAPI_label").rup_autocomplete("disable")}}});jQuery("#autocompleteAPI").rup_autocomplete({source:"",minLength:0,contains:true});function limpiarFiltros(){$("autonomia_search").value="";$("comarca_search").value="";$("provincia_search").value="";$("localidad_search").value="";$("municipio_search").value="";$("calle_search").value="";$("portal_search").value="";$("cp_search").value="";$("escalera_search").value="";$("piso_search").value="";$("mano_search").value="";$("puerta_search").value="";$("aprox_postal_search").value=""}function loadData(a){limpiarFiltros();var b=null;if(a.data){b=a.data}else{if(a.portal){b=a.portal;$("escalera_search").value=a.escalera;$("piso_search").value=a.piso;$("mano_search").value=a.mano;$("puerta_search").value=a.puerta;$("aprox_postal_search").value=a.aprox_postal}}if(b.municipio){$("autonomia_search").value=b.municipio.comarca.provincia.autonomia.descripcionOficial;$("comarca_search").value=b.municipio.comarca.descripcionOficial;$("provincia_search").value=b.municipio.provincia.descripcionOficial;$("localidad_search").value=b.descripcionOficial;$("municipio_search").value=b.municipio.descripcionOficial}else{$("autonomia_search").value=b.calle.localidad[0].municipio.comarca.provincia.autonomia.descripcionOficial;$("comarca_search").value=b.calle.localidad[0].municipio.comarca.descripcionOficial;$("provincia_search").value=b.calle.localidad[0].municipio.provincia.descripcionOficial;$("localidad_search").value=b.calle.localidad[0].descripcionOficial;$("municipio_search").value=b.calle.localidad[0].municipio.descripcionOficial;$("calle_search").value=b.calle.descripcionOficial;$("portal_search").value=b.numero;$("cp_search").value=b.codigoPostal}}function mostrarVisor(){jQuery("#id_capaVisor").css("visibility","visible")}function esconderVisor(){jQuery("#id_capaVisor").css("visibility","hidden")}function mostrarFormulario(){jQuery("#id_capaFormulario").css("visibility","visible")}function esconderFormulario(){jQuery("#id_capaFormulario").css("visibility","hidden")};