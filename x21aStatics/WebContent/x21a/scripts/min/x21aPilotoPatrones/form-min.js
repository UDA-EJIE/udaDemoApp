/*
 * Copyright 2011 E.J.I.E., S.A.
 *
 * Licencia con arreglo a la EUPL, Versión 1.1 exclusivamente (la «Licencia»);
 * Solo podrá usarse esta obra si se respeta la Licencia.
 * Puede obtenerse una copia de la Licencia en
 *
 *      http://ec.europa.eu/idabc/eupl.html
 *
 * Salvo cuando lo exija la legislación aplicable o se acuerde por escrito, 
 * el programa distribuido con arreglo a la Licencia se distribuye «TAL CUAL»,
 * SIN GARANTÍAS NI CONDICIONES DE NINGÚN TIPO, ni expresas ni implícitas.
 * Véase la Licencia en el idioma concreto que rige los permisos y limitaciones
 * que establece la Licencia.
 */
jQuery(document).ready(function(){$("#tabsFormulario").rup_tabs({tabs:[{i18nCaption:"ejemploYFunciones",layer:"#divformHttpSubmit"},{i18nCaption:"multiplesEntidades",layer:"#divMultiplesEntidades"},{i18nCaption:"subidaArchivos",layer:"#divSubidaFicheros"}]});function a(){var e={};var d={feedback:$("#feedbackMensajes"),success:function(f){$("#feedbackMensajes").rup_feedback("set",$.rup_utils.printMsg($.parseJSON($.parseJSON(f))),"ok")}};var c={validate:{liveCheckingErrors:true,showFieldErrorAsDefault:true,showErrorsInFeedback:true,showErrorsDetailsInFeedback:true,feedback:$("#feedbackMensajes"),messages:{password_confirm:$.rup.i18n.app.validaciones.password_confirm,email_confirm:$.rup.i18n.app.validaciones.email_confirm},rules:{nombre:{required:true},apellido1:{required:true},usuario:{required:true,minlength:4},password:{required:true,minlength:4},password_confirm:{equalTo:"#password"},fechaNacimiento:{date:true},email:{email:true},email_confirm:{equalTo:"#email"},dni:{dni:true}}}};var b={ajaxForm:{url:$.rup.CTX_PATH+"/patrones/form/ajax",success:function(){$("#feedbackMensajes").rup_feedback("set","El formulario se ha enviado correctamente mediante un submit AJAX","ok")}}};e=$.extend(true,e,d,c,($("#formTypeCombo").val()==="ajax"?b:{}));$("#formHttpSubmit").rup_form(e)}jQuery("#feedbackMensajes").rup_feedback({type:"ok",closeLink:true,delay:1000,fadeSpeed:500,block:true});jQuery("#sexo").rup_combo({source:[{i18nCaption:"masculino",value:"M"},{i18nCaption:"femenino",value:"F"}],i18nId:"sexo"});jQuery("#pais").rup_combo({source:"../nora/pais",sourceParam:{label:"dsO",value:"id"},blank:"0"});jQuery("#autonomia").rup_combo({source:"../nora/autonomia",sourceParam:{label:"dsO",value:"id"},width:400,blank:""});jQuery("#provincia").rup_combo({parent:["autonomia"],source:"../nora/provincia",firstLoad:[{value:"01",label:"Alava/Araba"},{value:"20",label:"Gipuzkoa"},{value:"48",label:"Bizkaia"}],sourceParam:{label:"dsO",value:"id"},width:300,blank:""});jQuery("#municipio").rup_autocomplete({source:"../nora/municipio",sourceParam:{label:"dsO",value:"id"},minLength:4});jQuery("#calle").rup_autocomplete({source:"../nora/calle",sourceParam:{label:"dsO",value:"id"},minLength:4});jQuery("#fechaNacimiento").rup_date();if(respuesta==="true"){$("#feedbackMensajes").rup_feedback("set","El formulario se ha enviado correctamente mediante un submit http","ok")}jQuery("#botonConfiguracion").bind("click",function(){$("#formHttpSubmit").rup_form("destroy");$("label.error",$("#formHttpSubmit")).remove();$("img.error.rup-maint_validateIcon",$("#formHttpSubmit")).remove();$("input.error",$("#formHttpSubmit")).removeClass("error");$("#feedbackMensajes").hide();a()});a();$("#botonFormSerialize").bind("click",function(){var b=$("#formHttpSubmit").rup_form("formSerialize");$("#resultadoFormSerialize").text(b)});$("#botonFieldSerialize").bind("click",function(){var b=$("input",$("#formHttpSubmit")).rup_form("fieldSerialize");$("#resultadoFieldSerialize").text(b)});$("#botonFieldValue").bind("click",function(){var b=$("input",$("#formHttpSubmit")).rup_form("fieldValue");$("#resultadoFieldValue").text(b.toString())});$("#botonResetForm").bind("click",function(){$("#formHttpSubmit").rup_form("resetForm")});$("#botonClearForm").bind("click",function(){$("#formHttpSubmit").rup_form("clearForm")});$("#botonClearFields").bind("click",function(){$("input",$("#formHttpSubmit")).rup_form("clearFields")});$("#formMultientidades").rup_form({url:$.rup.CTX_PATH+"/patrones/form/multientidades",feedback:$("#feedbackMensajes"),success:function(b){$("#feedbackMensajes").rup_feedback("set",$.rup_utils.printMsg($.parseJSON($.parseJSON(b))),"ok")},validate:{rules:{"departamento.code":{digits:true}}}});$("#formMultientidadesMismoTipo").rup_form({url:$.rup.CTX_PATH+"/patrones/form/multientidadesMismoTipo",feedback:$("#feedbackMensajes"),success:function(b){$("#feedbackMensajes").rup_feedback("set",$.rup_utils.printMsg($.parseJSON($.parseJSON(b))),"ok")},validate:{rules:{"comarca1.code":{digits:true},"comarca2.code":{digits:true},"comarca3.code":{digits:true},"comarca3.provincia.code":{digits:true}}}});$("#formSubidaArchivos").rup_form({url:$.rup.CTX_PATH+"/patrones/form/subidaArchivos",feedback:$("#feedbackMensajes"),dataType:"json",success:function(b){$("#feedbackMensajes").rup_feedback("set",$.rup_utils.printMsg(b),"ok")}})});