<?xml version="1.0" encoding="utf-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:mvc="http://www.springframework.org/schema/mvc"
xmlns:p="http://www.springframework.org/schema/p" xmlns:c="http://www.springframework.org/schema/c" xmlns:context="http://www.springframework.org/schema/context"
xmlns:util="http://www.springframework.org/schema/util"
xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.2.xsd">
<!-- Serializador utilizado por UDA para serializar unicamente las  -->
    <bean id="customSerializer" class="com.ejie.x38.serialization.CustomSerializer" />
    <bean id="jsonViewSupportFactoryBean" class="com.ejie.x38.control.view.JsonViewSupportFactoryBean" />
    <bean id="udaMappingJackson2HttpMessageConverter" class="com.ejie.x38.serialization.UdaMappingJackson2HttpMessageConverter">
        <property name="supportedMediaTypes" ref="jacksonSupportedMediaTypes" />
        <property name="udaModule" ref="udaModule" />
    </bean>
<!-- Modulo de UDA para Jackson -->
    <bean id="udaModule" class="com.ejie.x38.serialization.UdaModule">
        <property name="serializers">
            <util:map>            	
            	<entry key="#{T(com.ejie.aa79b.model.CuantiaInter)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.CuantiaRev)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.CuantiaTrad)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.IvaPrecios)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.OrdenPrecios)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.TarifExpTradRev)}" value-ref="customSerializer" />
				<entry key="#{T(com.ejie.aa79b.model.Lotes)}" value-ref="customSerializer" />
				<entry key="#{T(com.ejie.aa79b.model.CalendarioServicio)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.FestivosCalendarioServicio)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.LibroRegistro)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ConfigCalculoPresupuesto)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ConfigDireccionEmail)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ConfigHorasPrevistas)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ConfigPagoProveedores)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ConfigPerfilSolicitante)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ConfigPlazoMinimo)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ConfigTextoEmails)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.TiposAviso)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.EmpresasProveedoras)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.TipoRelevancia)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.TiposAusencia)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.Entidad)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.Persona)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ExcepcionFacturacion)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.MetadatosBusqueda)}" value-ref="customSerializer" />
                <entry key="com.ejie.aa79b.model.IdiomaDestino" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.BitacoraExpediente)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.Expediente)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ExpedienteInterpretacion)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ExpedienteTradRev)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.GestorExpediente)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.EstadosExpediente)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.FasesExpediente)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ObservacionesExpediente)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ClasificacionDocumentos)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.DocumentosExpediente)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.TiposDocumento)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.DireccionNora)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.TiposInterpretacion)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ModosInterpretacion)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.SubsanacionExpediente)}" value-ref="customSerializer" />            
                <entry key="#{T(com.ejie.aa79b.model.Solicitante)}" value-ref="customSerializer" />            
                <entry key="#{T(com.ejie.aa79b.model.ListaExpediente)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.DatosPersona)}" value-ref="customSerializer" />            
                <entry key="#{T(com.ejie.aa79b.model.ListaDatosPersona)}" value-ref="customSerializer" />          
                <entry key="#{T(com.ejie.aa79b.model.ExpedientesRelacionados)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ReceptorAutorizado)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ListaReceptoresAutorizados)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.CategExp)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ListaCategExp)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.Pagamentos)}" value-ref="customSerializer" />          
                <entry key="#{T(com.ejie.x38.dto.JerarquiaDto)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.Motivosrechazo)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ExpedientePlanificacion)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.TiposTarea)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.GruposTrabajo)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.Perfil)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.TiposRevision)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.MotivosAnulacion)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ContactoFacturacionExpediente)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ConsultaFacturacionExpediente)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.Plantillas)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.Fichero)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.SubidaTarea)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.Factura)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.FacturasExpediente)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ExpedientePlanificacionReport)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.ExpedienteConsulta)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.Albaran)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.DatosPagoProveedores)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.PuntosMenuAplicacion)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.DocumentosCorreccion)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.RupTableMultiselectionModel)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.EstadoFactura)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.NivelesDeCalidad)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.SeccionesControlDeCalidad)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.PesosValoracionAuditoria)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.AuditoriaDocumentoSeccionExpediente)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.OtrosTrabajos)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.aa79b.model.TareasTrabajo)}" value-ref="customSerializer" />
                <entry key="#{T(com.ejie.x38.rup.jqgrid.filter.model.Filter)}" value-ref="customSerializer" />
            </util:map>
        </property>
        <property name="serializationInclusions" ref="serializationInclusions" />
        <property name="serializationFeature" ref="serializationFeature" />
        <property name="deserializationFeature" ref="deserializationFeature" />
    </bean>
<!-- MediaTypes soportados por jackson -->
    <util:list id="jacksonSupportedMediaTypes">
        <bean class="org.springframework.http.MediaType">
            <constructor-arg value="text" />
            <constructor-arg value="plain" />
            <constructor-arg value="#{T(org.springframework.http.converter.json.MappingJackson2HttpMessageConverter).DEFAULT_CHARSET}" />
        </bean>
        <bean class="org.springframework.http.MediaType">
            <constructor-arg value="application" />
            <constructor-arg value="json" />
            <constructor-arg value="#{T(org.springframework.http.converter.json.MappingJackson2HttpMessageConverter).DEFAULT_CHARSET}" />
        </bean>
    </util:list>
<!-- Features de configuracion de la serializacion -->
    <util:map id="serializationFeature">
        <entry key="#{T(com.fasterxml.jackson.databind.SerializationFeature).ORDER_MAP_ENTRIES_BY_KEYS}" value="true" />
    </util:map>
<!-- Features de configuracion de la deserializacion -->
    <util:map id="deserializationFeature">
        <entry key="#{T(com.fasterxml.jackson.databind.DeserializationFeature).FAIL_ON_UNKNOWN_PROPERTIES}" value="false" />
    </util:map>
<!-- Inclusiones de serializacion -->
    <util:list id="serializationInclusions">
<!--            <value type="org.codehaus.jackson.map.annotate.JsonSerialize.Inclusion">NON_NULL</value> -->
    </util:list>
</beans>
