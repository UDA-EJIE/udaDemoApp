package com.ejie.aa79b.model;

import java.io.Serializable;
import java.util.Date;

import org.apache.commons.lang.StringUtils;
import org.springframework.context.i18n.LocaleContextHolder;
import org.springframework.context.support.ReloadableResourceBundleMessageSource;

import com.ejie.aa79b.utils.DateUtils;
import com.ejie.aa79b.utils.Utils;

/**
 * AsignadoProveedor generated by UDA, 17-nov-2017 13:04:12.
 * 
 * @author javarona
 */
public class TareasAsignado implements Serializable {

	private ReloadableResourceBundleMessageSource msg;

	private static final long serialVersionUID = 1L;
	private TiposTarea tipoTarea = new TiposTarea();
	private String nombreLote;
	private int estadoEjecucion;
	private String estadoEjecucionDesc;
	private Long numTotalPalIZO;
	private Long numPalIZO;
	private Integer idLote;
	private Integer idTarea;
	private String idTareaRel;
	private String indAlbaran;
	private int orden;
	private Long anyo;
	private Integer numExp;
	private Date fechaFin;
	private String horaFin;

	public TiposTarea getTipoTarea() {
		return tipoTarea;
	}

	public String getNombreLote() {
		return nombreLote;
	}

	public int getEstadoEjecucion() {
		return estadoEjecucion;
	}

	public String getEstadoEjecucionDesc() {
		return estadoEjecucionDesc;
	}

	public Long getNumTotalPalIZO() {
		return numTotalPalIZO;
	}

	public void setTipoTarea(TiposTarea tipoTarea) {
		this.tipoTarea = tipoTarea;
	}

	public void setNombreLote(String nombreLote) {
		this.nombreLote = nombreLote;
	}

	public void setEstadoEjecucion(int estadoEjecucion) {
		this.estadoEjecucion = estadoEjecucion;
	}

	public void setEstadoEjecucionDesc(String estadoEjecucionDesc) {
		this.estadoEjecucionDesc = estadoEjecucionDesc;
	}

	public void setNumTotalPalIZO(Long numTotalPalIZO) {
		this.numTotalPalIZO = numTotalPalIZO;
	}

	public Long getNumPalIZO() {
		return numPalIZO;
	}

	public void setNumPalIZO(Long numPalIZO) {
		this.numPalIZO = numPalIZO;
	}

	public Integer getIdLote() {
		return idLote;
	}

	public void setIdLote(Integer idLote) {
		this.idLote = idLote;
	}

	public Integer getIdTarea() {
		return idTarea;
	}

	public void setIdTarea(Integer idTarea) {
		this.idTarea = idTarea;
	}

	public String getIdTareaRel() {
		return idTareaRel;
	}

	public void setIdTareaRel(String idTareaRel) {
		this.idTareaRel = idTareaRel;
	}

	public String getIndAlbaran() {
		return indAlbaran;
	}

	public void setIndAlbaran(String indAlbaran) {
		this.indAlbaran = indAlbaran;
	}

	public int getOrden() {
		return orden;
	}

	public void setOrden(int orden) {
		this.orden = orden;
	}

	/**
	 * Method to set the msg.
	 * 
	 * @param msg the msg to set
	 */
	public void setMsg(ReloadableResourceBundleMessageSource msg) {
		this.msg = msg;
	}

	/**
	 * Method to get the msg.
	 * 
	 * @return the msg
	 */
	public ReloadableResourceBundleMessageSource getMsg() {
		return this.msg;
	}

	public String getNombreLoteNumTotal() {
		StringBuilder str = new StringBuilder();
		str.append(this.msg.getMessage("label.lote", null, LocaleContextHolder.getLocale()));
		str.append(": ");
		str.append(nombreLote);
		str.append("; ");
		str.append(this.msg.getMessage("label.numTotalPalabras", null, LocaleContextHolder.getLocale()));
		str.append(": ");
		str.append(numTotalPalIZO);

		return str.toString();

	}

	@Override
	public String toString() {
		return "TareasAsignado [tipoTarea=" + tipoTarea + ", lote=" + nombreLote + ", estadoEjecucion="
				+ estadoEjecucion + ", estadoEjecucionDesc=" + estadoEjecucionDesc + ", numTotalPalIZO="
				+ numTotalPalIZO + "]";
	}

	public Long getAnyo() {
		return anyo;
	}

	public void setAnyo(Long anyo) {
		this.anyo = anyo;
	}

	public Integer getNumExp() {
		return numExp;
	}

	public void setNumExp(Integer numExp) {
		this.numExp = numExp;
	}

	public String getAnyoNumExpConcatenado() {
		return Utils.getAnyoNumExpConcatenado(this.anyo, this.numExp);
	}

	public void setAnyoNumExpConcatenado(String codigo) {
		String[] aux = StringUtils.split(codigo, "/");
		if (aux.length == 4) {
			Integer i = 0;
			this.anyo = Long.parseLong(aux[i++]);
			this.numExp = Integer.parseInt(aux[i++]);
		}
	}

	public Date getFechaFin() {
		return fechaFin;
	}

	public void setFechaFin(Date fechaFin) {
		this.fechaFin = fechaFin;
	}

	public String getHoraFin() {
		return horaFin;
	}

	public void setHoraFin(String horaFin) {
		this.horaFin = horaFin;
	}

	public String getFechaHoraFin() {
		return DateUtils.obtFechaHoraFormateada(this.fechaFin, this.horaFin, LocaleContextHolder.getLocale());
	}

}