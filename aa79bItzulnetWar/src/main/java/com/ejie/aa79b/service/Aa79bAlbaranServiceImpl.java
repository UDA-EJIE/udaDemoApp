package com.ejie.aa79b.service;

import java.math.BigDecimal;
import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.ejie.aa79b.dao.Aa79bAlbaranDao;
import com.ejie.aa79b.dao.GenericoDao;
import com.ejie.aa79b.model.Albaran;
import com.ejie.aa79b.model.DatosPagoProveedores;
import com.ejie.aa79b.model.EntradaAlbaranTareas;
import com.ejie.aa79b.model.Tareas;
import com.ejie.aa79b.model.webservices.Aa79bAlbaran;
import com.ejie.aa79b.model.webservices.Aa79bEntradaTarea;
import com.ejie.aa79b.model.webservices.Aa79bSalidaTarea;
import com.ejie.x38.dto.JQGridRequestDto;
import com.ejie.x38.dto.JQGridResponseDto;

/**
 * TareasGeneralServiceImpl generated by UDA, 28-nov-2017 15:23:30.
 * 
 * @author UDA
 */

@Service(value = "aa79bAlbaranService")
public class Aa79bAlbaranServiceImpl extends GenericoServiceImpl<Aa79bAlbaran> implements Aa79bAlbaranService {

	@Autowired()
	private Aa79bAlbaranDao albaranDao;

	@Override
	public List<Aa79bAlbaran> obtenerBuscadorAlbaran(Albaran bean) {
		return this.albaranDao.obtenerBuscadorAlbaran(bean);
	}

	@Override
	public JQGridResponseDto<Aa79bSalidaTarea> findTareasAlbaran(Aa79bEntradaTarea bean,
			JQGridRequestDto jqGridRequestDto, boolean b, boolean pagination) {

		@SuppressWarnings("unchecked")
		List<Aa79bSalidaTarea> listaTareas = (List<Aa79bSalidaTarea>) this.albaranDao.findTareasAlbaran(bean,
				jqGridRequestDto, false, false, pagination);

		Long recordNum = 0L;
		if (listaTareas != null && !listaTareas.isEmpty()) {
			recordNum = (Long) this.albaranDao.findTareasAlbaran(bean, jqGridRequestDto, false, true, pagination);
		}

		if (jqGridRequestDto != null) {
			return new JQGridResponseDto<Aa79bSalidaTarea>(jqGridRequestDto, recordNum, listaTareas);
		} else {
			return new JQGridResponseDto<Aa79bSalidaTarea>(new JQGridRequestDto(), recordNum, listaTareas);
		}
	}

	@Override
	public Long existeReferencia(Albaran bean) {
		return this.albaranDao.existeReferencia(bean);
	}

	@Override
	public void crearAlbaran(Albaran bean) {
		this.albaranDao.crearAlbaran(bean);
	}

	@Override
	public Albaran updateEstadoAlbaran(Albaran bean) {
		return this.albaranDao.updateEstadoAlbaran(bean);
	}

	@Override
	public DatosPagoProveedores asociarAlbaran(DatosPagoProveedores bean) {
		return this.albaranDao.asociarAlbaran(bean);
	}

	@Override
	public DatosPagoProveedores desasociarAlbaran(DatosPagoProveedores bean) {
		return this.albaranDao.desasociarAlbaran(bean);
	}

	@Override
	public Aa79bSalidaTarea detalleTareaAlbaran(Aa79bEntradaTarea bean) {
		return this.albaranDao.detalleTareaAlbaran(bean);
	}

	@Override
	public Long comprobarAsociacionAlbaranPorTarea(EntradaAlbaranTareas bean) {
		return this.albaranDao.comprobarAsociacionAlbaranPorTarea(bean);
	}

	@Override
	public Long comprobarSiTareasAsociadas(BigDecimal idAlbaran) {
		return this.albaranDao.comprobarSiTareasAsociadas(idAlbaran);
	}

	@Override
	public Tareas obtenerIdTareaPagoProveedorRel(Tareas bean) {
		return this.albaranDao.obtenerIdTareaPagoProveedorRel(bean);
	}

	@Override
	protected GenericoDao<Aa79bAlbaran> getDao() {
		return this.albaranDao;
	}

}