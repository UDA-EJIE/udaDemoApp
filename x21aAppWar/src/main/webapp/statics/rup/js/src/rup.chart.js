/*! For license information please see rup.chart.js.LICENSE.txt */
!function(t){"function"==typeof define&&define.amd?define(["jquery","./rup.base","chart.js"],t):t(jQuery)}((function(t){t.extend(t.rup.iniRup,t.rup.rupSelectorObjectConstructor("rup_chart",{})),t.fn.rup_chart("extend",{destroy:function(){this.data("chart").destroy(),this.data("chart",""),this.data("settings","")},updateData:function(t){var a=this.data("settings"),e=this.data("chart");e.data.datasets=t.datasets,e.data.labels=t.labels,e.update(),a.data=t,this.data("settings",a)},updateLabels:function(t){var a=this.data("settings"),e=this.data("chart");e.data.labels=t,e.update(),a.data.labels=t},updateDatasets:function(t){var a=this.data("settings"),e=this.data("chart");e.data.datasets=t,e.update(),a.data.datasets=t},getDatasets:function(){return this.data("settings").data.datasets},getLabels:function(){return this.data("settings").data.labels},getData:function(){return this.data("settings").data},getChart:function(){return this.data("chart")},toBase64Image:function(){return this.data("chart").toBase64Image()}}),t.fn.rup_chart("extend",{}),t.fn.rup_chart("extend",{_init:function(a){var e=t.extend({},t.fn.rup_chart.defaults,a[0]);e.id=t(this).attr("id");var s,r=this,d=document.getElementById(e.id).getContext("2d");a.length>1?t.rup.errorGestor(t.rup.i18nParse(t.rup.i18n.base,"rup_global.initError")+t(this).attr("id")):(s=void 0!==e.options?new Chart(d,{type:e.type,data:e.data,options:e.options}):new Chart(d,{type:e.type,data:e.data}),r.attr("role","graphics-data"),r.addClass("rup-chart"),r.attr("ruptype","chart"),t("#"+t.escapeSelector(e.id)).data("settings",e),t("#"+t.escapeSelector(e.id)).data("chart",s))}}),t.fn.rup_chart.defaults={}}));