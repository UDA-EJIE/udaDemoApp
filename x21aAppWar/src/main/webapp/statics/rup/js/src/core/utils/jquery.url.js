!function(t,a){var r={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],n={anchor:"fragment"},s={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},o=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g,i=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g;function f(t,a){for(var r=decodeURI(t),n=s[a?"strict":"loose"].exec(r),f={attr:{},param:{},seg:{}},g=14;g--;)f.attr[e[g]]=n[g]||"";return f.param.query={},f.param.fragment={},f.attr.query.replace(o,(function(t,a,r){a&&(f.param.query[a]=r)})),f.attr.fragment.replace(i,(function(t,a,r){a&&(f.param.fragment[a]=r)})),f.seg.path=f.attr.path.replace(/^\/+|\/+$/g,"").split("/"),f.seg.fragment=f.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),f.attr.base=f.attr.host?f.attr.protocol+"://"+f.attr.host+(f.attr.port?":"+f.attr.port:""):"",f}t.fn.url=function(e){var n,s="";return this.length&&(s=t(this).attr((n=this[0].tagName)!==a?r[n.toLowerCase()]:n)||""),t.url(s,e)},t.url=function(t,r){return 1===arguments.length&&!0===t&&(r=!0,t=a),r=r||!1,{data:f(t=t||window.location.toString(),r),attr:function(t){return(t=n[t]||t)!==a?this.data.attr[t]:this.data.attr},param:function(t){return t!==a?this.data.param.query[t]:this.data.param.query},fparam:function(t){return t!==a?this.data.param.fragment[t]:this.data.param.fragment},segment:function(t){return t===a?this.data.seg.path:(t=t<0?this.data.seg.path.length+t:t-1,this.data.seg.path[t])},fsegment:function(t){return t===a?this.data.seg.fragment:(t=t<0?this.data.seg.fragment.length+t:t-1,this.data.seg.fragment[t])}}}}(jQuery);