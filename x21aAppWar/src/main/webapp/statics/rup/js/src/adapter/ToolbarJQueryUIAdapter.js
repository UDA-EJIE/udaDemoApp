!function(t,i){"function"==typeof define&&define.amd?define(["jquery","../rup.base","../templates"],i):t.ToolbarJQueryUIAdapter=i(jQuery)}(this,(function(t){function i(){}return i.prototype.NAME="toolbar_jqueryui",i.prototype.addButton=function(i,n){var r;0!==(r=i.id?i.id:i.i18nCaption).indexOf(t(this).attr("id"))&&(r=t(this).attr("id")+"##"+r);var o=t("<button type='button'></button>").text(t.rup.i18nParse(n,i.i18nCaption)).addClass("rup-toolbar_button").attr({id:r});if(o.rup_button(i),o.button("option","icons",{primary:i.css,secondary:null}),void 0!==i.right&&!0===i.right){var a=this.children("div:not(.rup-dropdown-btn-group)");0===a.length&&(a=t("<div></div>").attr("id",this.attr("id")+"-rightButtons").css("float","right"),this.append(a)),o.prependTo(a)}else o.parent().is(".rup-dropdown-btn-group")?t(this).append(o.parent()):t(this).append(o);return this._setKeyDown(o),o.on("focusout",(function(){t(this).removeClass("ui-state-focus")})),o},i.prototype.addMButton=function(i,n){var r,o="";if(void 0===i.id?(t.rup.errorGestor(t.rup.i18nParse(t.rup.i18n.base,"rup_toolbar.mbuttonsIdError")),o=null):(0!==(r=i.id).indexOf(t(this).attr("id"))&&(r=t(this).attr("id")+"##"+i.id),o=t("<a></a>").attr("id",r).text(t.rup.i18nParse(n,i.i18nCaption)).addClass("rup-toolbar_menuButton"),void 0===i.css&&(i.css="rup-toolbar_menuButtonIcon"),o.button().button("option","icons",{primary:null,secondary:i.css})),void 0!==i.right&&!0===i.right){var a=this.children("div:not(.rup-dropdown-btn-group)");0===a.length&&(a=t("<div></div>").attr("id",this.attr("id")+"-rightButtons").css("float","right"),this.append(a)),o.prependTo(a)}else t(this).append(o);return this._setKeyDown(o),i.click&&o.click({i18nCaption:i.i18nCaption},i.click),o},i.prototype.addButtonsToMButton=function(i,n,r){var o,a,e,d,p=i.length;0===t("[id='mbutton_"+n.attr("id")+"']").length?(o=t("<div>").addClass("ui-widget ui-widget-content rup-toolbar_menuButtonContainer").attr("id","mbutton_"+n[0].id).css("display","none"),a=t("<ul>").attr("role","menu").attr("aria-activedescendant","active-menuitem").attr("aria-labelledby","active-menuitem")):a=(o=t("[id='mbutton_"+n.attr("id")+"']")).children("ul"),n.attr("href","#");for(var u=p;u--;)d=(e=i[u]).id?n.attr("id")+"##"+e.id:n.attr("id")+"##"+e.i18nCaption,i[u].id=d,a.prepend(t("<li>").css("display","block").append(this.addButton(i[u],r).addClass("rup-toolbar_menuButtonElement")));t.rup_utils.aplicatioInPortal()?(o.append(a),t(".r01gContainer").append(o)):(o.appendTo("body"),o.append(a))},t.rup=t.rup||{},t.rup.adapter=t.rup.adapter||{},t.rup.adapter[i.prototype.NAME]=new i,t}));