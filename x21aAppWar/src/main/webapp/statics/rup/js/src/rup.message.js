/*! For license information please see rup.message.js.LICENSE.txt */
!function(e){"function"==typeof define&&define.amd?define(["jquery","./rup.base"],e):e(jQuery)}((function(e){e.extend(e.rup.iniRup,e.rup.rupObjectConstructor("rup_messages",{})),window.alert=function(a){e.rup_messages("msgAlert",{title:e.rup.i18nParse(e.rup.i18n.base,"rup_message.alert"),message:a})},e.rup_messages("extend",{msgError:function(a){var t,i,s=this,o=e.extend({},e.rup_messages.defaults,a),r=e(document.activeElement);this._rupProperties(o,e.rup.i18nParse(e.rup.i18n.base,"rup_message.tituloError")),o._close=o.close,o.close=function(){r.focus(),void 0!==o._close&&s._destroy(u)},o.buttons=[{text:null!=a.buttonText?a.buttonText:e.rup.i18nParse(e.rup.i18n.base,"rup_message.aceptar"),class:e.rup.adapter[e.rup_messages.defaults.adapter].classComponent("error"),click:function(){s._destroy(u)}}];var u=this._createDiv().appendTo("body");u.dialog(o),u.data("uiDialog")&&u.data("uiDialog").uiDialog.addClass("rup-message rup-message-error"),this._createCloseLink(u),this._addStyles(u,"error",o.message),t=e(document).height(),i=e(document).width(),u.dialog("open"),this._dialogInPortal(i,t,u,o),u.data("uiDialog")&&(u.data("uiDialog").uiDialog.find("button.ui-dialog-titlebar-close").remove(),u.data("uiDialog").uiDialog.find("button").removeClass("ui-button ui-corner-all ui-widget"))},msgConfirm:function(a){var t,i,s=this,o=e.extend({},e.rup_messages.defaults,a),r=e(document.activeElement);this._rupProperties(o,e.rup.i18nParse(e.rup.i18n.base,"rup_message.confirmacion")),o._close=o.close,o.close=function(){r.focus(),void 0!==o._close&&s._destroy(n)};var u,n=this._createDiv().appendTo("body");n.dialog(o),n.data("uiDialog").uiDialog.addClass("rup-message rup-message-confirm"),u=[{text:null!=a.OKText?a.OKText:e.rup.i18nParse(e.rup.i18n.base,"rup_message.aceptar"),class:e.rup.adapter[e.rup_messages.defaults.adapter].classComponent("confirm"),click:function(){s._destroy(n),o.OKFunction.call(this,n)}}],n.dialog("option","buttons",u),this._createCloseLink(n,o.CLOSEFunction),this._addStyles(n,"confirm",o.message),this._createLinkButton(n,o),t=e(document).height(),i=e(document).width(),n.dialog("open"),this._dialogInPortal(i,t,n,o),n.data("uiDialog").uiDialog.find("button.ui-dialog-titlebar-close").remove(),n.data("uiDialog").uiDialog.find("button").removeClass("ui-button ui-corner-all ui-widget"),e("div[aria-describedby="+n[0].id+"] .ui-dialog-buttonpane button").last().focus()},msgOK:function(a){var t,i,s=this,o=e.extend({},e.rup_messages.defaults,a),r=e(document.activeElement);this._rupProperties(o,e.rup.i18nParse(e.rup.i18n.base,"rup_message.correct")),o._close=o.close,o.close=function(){r.focus(),void 0!==o._close&&s._destroy(u)},o.buttons=[{text:null!=a.buttonText?a.buttonText:e.rup.i18nParse(e.rup.i18n.base,"rup_message.aceptar"),class:e.rup.adapter[e.rup_messages.defaults.adapter].classComponent("ok"),click:function(){s._destroy(u)}}];var u=this._createDiv().appendTo("body");u.dialog(o),u.data("uiDialog")&&u.data("uiDialog").uiDialog.addClass("rup-message rup-message-ok"),this._createCloseLink(u,o.CLOSEFunction),this._addStyles(u,"ok",o.message),t=e(document).height(),i=e(document).width(),u.dialog("open"),this._dialogInPortal(i,t,u,o),u.data("uiDialog")&&(u.data("uiDialog").uiDialog.find("button.ui-dialog-titlebar-close").remove(),u.data("uiDialog").uiDialog.find("button").removeClass("ui-button ui-corner-all ui-widget"))},msgAlert:function(a){var t,i,s=this,o=e.extend({},e.rup_messages.defaults,a),r=e(document.activeElement);this._rupProperties(o,e.rup.i18nParse(e.rup.i18n.base,"rup_message.alert")),o._close=o.close,o.close=function(){r.focus(),void 0!==o._close&&s._destroy(u)},o.buttons=[{text:null!=a.buttonText?a.buttonText:e.rup.i18nParse(e.rup.i18n.base,"rup_message.aceptar"),class:e.rup.adapter[e.rup_messages.defaults.adapter].classComponent("alert"),click:function(){s._destroy(u)}}];var u=this._createDiv().appendTo("body");u.dialog(o),u.data("uiDialog").uiDialog.addClass("rup-message rup-message-alert"),this._createCloseLink(u,o.CLOSEFunction),this._addStyles(u,"alert",o.message),t=e(document).height(),i=e(document).width(),u.dialog("open"),this._dialogInPortal(i,t,u,o),u.data("uiDialog").uiDialog.find("button.ui-dialog-titlebar-close").remove(),u.data("uiDialog").uiDialog.find("button").removeClass("ui-button ui-corner-all ui-widget")}}),e.rup_messages("extend",{_destroy:function(e){e.dialog("destroy").remove()},_createDiv:function(){return e("<div></div>").attr("id","rup_msgDIV_"+(new Date).getTime()).attr("rup_message","true").addClass("row py-4")},_createCloseLink:function(e,a){e.prev("div").append('<i class="mdi mdi-close float-end pointer" aria-hidden="true"></i>').on("click","i.mdi",(function(){return e.dialog("close"),void 0!==a&&a.call(this,e),!1}))},_addStyles:function(a,t,i){var s="";switch(t){case"error":s='<i class="mdi mdi-alert-circle" aria-hidden="true"></i>';break;case"confirm":default:s='<i class="mdi mdi-alert" aria-hidden="true"></i>';break;case"ok":s='<i class="mdi mdi-check-circle" aria-hidden="true"></i>';break;case"alert":s='<i class="mdi mdi-message-alert" aria-hidden="true"></i>'}var o=e("<div>").attr("id","rup_msgDIV_msg_icon").addClass("col-2").append(s),r=e("<div>").attr("id","rup_msgDIV_msg").addClass("col-10").html(i);a.append(o),a.append(r)},_createLinkButton:function(a,t){var i=t.CANCELFunction,s=e("<button></button>").attr("type","button").attr("id",a[0].id+"_cancel").addClass(e.rup.adapter[e.rup_messages.defaults.adapter].classComponent()).html(null!=t.CANCELText?t.CANCELText:e.rup.i18nParse(e.rup.i18n.base,"rup_global.cancel")).click((function(){return a.dialog("close"),void 0!==i&&i.call(this,a),!1}));e("div[aria-describedby="+a[0].id+"] .ui-dialog-buttonset ").prepend(s)},_dialogInPortal:function(a,t,i,s){var o;e.rup_utils.aplicatioInPortal()&&(null!==i.data("uiDialog").overlay&&((o=i.data("uiDialog").overlay).css("height",t).css("width",a),e(".r01gContainer").append(o).append(i.data("uiDialog").uiDialog)),void 0!==s.position&&null!==s.position||i.data("uiDialog").uiDialog.css("position","absolute").css("top",t/2-e(".ui-dialog:visible").height()/2))},_rupProperties:function(a,t){a.autoOpen=!1,a.modal=!0,a.resizable=!1,null!==a.title&&""!==a.title||(a.title=t),a.closeText=e.rup.i18nParse(e.rup.i18n.base,"rup_message.tituloError.cerrar"),a.close=function(){e(this).remove()}}}),e.rup_messages.defaults={minHeight:100,adapter:"message_material"}}));