!function(e){let t="";function l(t,l){var n=e.rup.i18n.app;return n[t]&&n[t]._blank?n[t]._blank:n.rup_select&&n.rup_select.blank?n.rup_select.blank:null!=l&&l.multiple?e.rup.i18n.base.rup_select.multiselect.selectedText:e.rup.i18n.base.rup_select.blankNotDefined}e.fn.select2.amd.define("CustomSelectionAdapter",["select2/utils","select2/selection/multiple","select2/selection/placeholder","select2/selection/eventRelay","select2/selection/single"],(function(l,n,s,o,i){let c=l.Decorate(n,s);return c=l.Decorate(c,o),c.prototype.render=function(){return i.prototype.render.call(this)},c.prototype.update=function(l){const n=this.options.options;let s=e("#"+e.escapeSelector(n.id)).data("settings");this.clear(),this.container.$dropdown.find(".select2-search--dropdown").addClass("d-block");let o=this.$selection.find(".select2-selection__rendered"),i="",c={};if(n.multiple){var a="";a=null!=this.options.options.url||0==this.$element.find("option").length?this.container.$results.find("li"):"-1"==n.blank?this.$element.find("option").not('[value=""]'):this.$element.find("option");let r=e.map(s||!0===n.data?l:n.data,(function(e,t){if(s){if("-1"!=n.blank)return e;if(""!=e.id)return e}else if(n.selected==e.id)return e}));0!=r.length||s||(r=e.map(a,(function(e,t){if(e.selected)return{id:e.value,text:e.text}}))),null!=s&&!0===s.cacheUrl&&Object.keys(s.cacheUrlSelectData).length>0&&a.length<Object.keys(s.cacheUrlSelectData).length&&(a=s.cacheUrlSelectData),c={selected:r,all:a};let p="";null==s&&(s=t),s.selected="",null!=s&&null!=s.placeholder&&0==c.selected.length?(i=e("<span>",{class:"select2-selection__placeholder",text:s.placeholder}),p=s.placeholder):(i=this.display(c,o),p=i),o.empty().append(i),o.prop("title",p)}else 0===l.length?i=this.options.get("placeholder")||"":(c=null!=this.options.options.url||0==this.$element.find("option").length?{selected:l||[],all:this.container.$results.find("li")||[]}:{selected:l||[],all:this.$element.find("option")||[]},i=this.display(c,o)),o.empty().append(i),o.prop("title",i)},c})),e.fn.select2.amd.define("CustomDropdownAdapter",["select2/utils","select2/dropdown","select2/dropdown/attachBody","select2/dropdown/search"],(function(t,l,n,s){let o=t.Decorate(l,s);return o.prototype.render=function(){let t=l.prototype.render.call(this),n=this.options.get("placeholderForSearch")||"Buscar...",s=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" placeholder="'+n+'" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=s,this.$search=s.find("input"),t.prepend(s),t},t.Decorate(o,n)})),e.fn.select2.amd.define("AutocompleteSelectionAdapter",["select2/utils","select2/selection/multiple","select2/selection/placeholder","select2/selection/eventRelay","select2/selection/single","select2/selection/search"],(function(t,l,n,s,o,i){let c=t.Decorate(l,n);return c=t.Decorate(c,s),c.prototype.render=function(){return o.prototype.render.call(this)},c.prototype.update=function(t){let l=this.$selection.find("input").val();this.clear();let n=this.options,s=this.$selection.find(".select2-selection__rendered"),o=this.$selection.find(".select2-selection__arrow"),i=0;null==t[0]||""!=t[0].id&&t[0].id!=this.options.options.blank||(i=1);let c=t.length-i===0,a="";if(this.$selection.off("click"),o.off("click"),n.options.combo){let t=this.container.$container;o.on("click",(function(){t.hasClass("select2-container--open")?e("#"+e.escapeSelector(n.options.id)).select2("close"):(e("#"+e.escapeSelector(n.options.id)).select2("open"),e("input.select2-search__field").addClass("d-none"))}))}else o.addClass("rup-autocomplete_label ui-autocomplete-input"),this.$selection.find("b").addClass("d-none");if(c)a="";else{let e={};e=null!=this.options.options.url||0==this.$element.find("option").length?{selected:t||[],all:this.container.$results.find("li")||[]}:{selected:t||[],all:this.$element.find("option")||[]},a=this.display(e,s)}let r=e("<input/>",{type:"text",placeholder:n.options.placeholder,class:"border-0"});var p,d;null!=l&&""!=l?r.val(l):r.val(a),r.off("keyup"),r.on("keyup",(p=function(){if(this.value.length>=n.options.minimumResultsForSearch||0==this.value.length&&n.options.searchZero){let t=!1;e("#"+e.escapeSelector(n.options.id)).select2("isOpen")&&(t=!0);let l=e("#"+e.escapeSelector(n.options.id)),s=l.data("settings");s.fromSong=!0,l.data("settings",s),e("#"+e.escapeSelector(n.options.id)).select2("open"),e("input.select2-search__field").addClass("d-none"),e("input.select2-search__field").val(this.value),(null==n.options.url||null!=n.options.url&&t)&&e("input.select2-search__field").trigger("keyup")}},d=0,function(){var e=this,t=arguments;clearTimeout(d),d=setTimeout((function(){p.apply(e,t)}),500)})),s.empty().append(r),r.focus(),s.prop("title",a)},c})),e.fn.extend({select2MultiCheckboxes:function(){var n=e.extend({wrapClass:"wrap"},arguments[0]);n.autocomplete?n.autocomplete&&n.multiple?(void 0!==n.minimumResultsForSearch&&n.minimumResultsForSearch!==1/0||(n.minimumResultsForSearch=3),n.templateSelection=function(e,t){return l(n.id,n).replace("{0}",e.selected.length).replace("{1}",e.all.length)},t=n,n.selectionAdapter=e.fn.select2.amd.require("CustomSelectionAdapter"),n.dropdownAdapter=e.fn.select2.amd.require("CustomDropdownAdapter")):n.autocomplete&&(null!=n.minimumResultsForSearch&&n.minimumResultsForSearch!=1/0||(n.minimumResultsForSearch=3),n.selectionAdapter=e.fn.select2.amd.require("AutocompleteSelectionAdapter"),n.templateSelection=function(e,t){return n.multiple?" Seleccionado(s) "+e.selected.length+" de "+e.all.length:e.selected[0].text}):((n=e.extend({wrapClass:"wrap",minimumResultsForSearch:-1,searchMatchOptGroups:!0},arguments[0])).templateSelection=function(e,t){let s=l(n.id,n);return n.data&&n.data.length>0?s.replace("{0}",e.selected.length).replace("{1}",n.data.length):s.replace("{0}",e.selected.length).replace("{1}",e.all.length)},t=n,n.selectionAdapter=e.fn.select2.amd.require("CustomSelectionAdapter")),e("#"+e.escapeSelector(n.id)).select2(n)}})}(jQuery);