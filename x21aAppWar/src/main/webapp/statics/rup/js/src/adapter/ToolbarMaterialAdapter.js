!function(t,i){"function"==typeof define&&define.amd?define(["jquery","../templates","../rup.base"],i):t.ToolbarMaterialAdapter=i(jQuery)}(this,(function(t,i){function r(){}return r.prototype.NAME="toolbar_material",r.prototype.addButton=function(r,n){var o;0!==(o=r.id?r.id:r.i18nCaption).indexOf(t(this).attr("id"))&&(o=t(this).attr("id")+"##"+o);var e=t(i.Templates.rup.toolbar.button.material({id:o,css:r.css,label:r.text?r.text:t.rup.i18nParse(n,r.i18nCaption)}));if(e.rup_button(r),void 0!==r.right&&!0===r.right){var d=this.children("div:not(.rup-dropdown-btn-group):not(.rup-mbutton )");0===d.length&&(d=t("<div></div>").attr("id",this.attr("id")+"-rightButtons").css("float","right"),this.append(d)),e.prependTo(d)}else e.parent().is(".rup-dropdown-btn-group")?t(this).append(e.parent()):t(this).append(e);return this._setKeyDown(e),e.on("focusout",(function(){t(this).removeClass("ui-state-focus")})),e},r.prototype.addMButton=function(r,n){var o,e,d="";if(void 0===r.id?(t.rup.errorGestor(t.rup.i18nParse(t.rup.i18n.base,"rup_toolbar.mbuttonsIdError")),d=null):(0!==(e=r.id).indexOf(t(this).attr("id"))&&(e=t(this).attr("id")+"##"+r.id),d=(o=t(i.Templates.rup.toolbar.mbutton.material({idParent:r.idParent,id:e,css:r.css,groupClasses:r.groupClasses,label:r.text?r.text:t.rup.i18nParse(n,r.i18nCaption)}))).find("[id='"+e+"']"),void 0===r.css&&(r.css="rup-toolbar_menuButtonIcon"),d.rup_button()),void 0!==r.right&&!0===r.right&&o.addClass("rup-button-right"),void 0!==r.right&&!0===r.right){var a=this.children("div:not(.rup-dropdown-btn-group):not(.rup-mbutton )");0===a.length&&(a=t("<div></div>").attr("id",this.attr("id")+"-rightButtons").css("float","right"),this.append(a)),o.prependTo(a)}else t(this).append(o);return this._setKeyDown(d),r.click&&d.click({i18nCaption:r.i18nCaption},r.click),o},r.prototype.addButtonsToMButton=function(i,r,n){var o,e,d,a;e=i.length,r.find("button").attr("href","#"),o=r.find('ul[id="'+r.find("button").attr("id")+'-mbutton-container"]');for(var p=e-1;p>=0;p--)a=(d=i[p]).id?r.find("button").attr("id")+"##"+d.id:r.find("button").attr("id")+"##"+d.i18nCaption,i[p].id=a,o.append(t("<li>").append(this.addButton(i[p],n)));t('[id ="'+r.attr("id")+'-mbutton-container"]').children().length!=e&&t('[id ="'+r.attr("id")+'-mbutton-container"]').append(o.children())},t.rup=t.rup||{},t.rup.adapter=t.rup.adapter||{},t.rup.adapter[r.prototype.NAME]=new r,t}));