import"jquery";import*as testutils from"../common/specCommonUtils.js";import"rup.accordion";describe("Test Accordion > ",(()=>{var e,o;beforeAll((e=>{0==$("#content").length&&$("body").append('<div id="content" class="container mt-4"></div>'),testutils.loadCss(e)})),beforeEach((()=>{$("#content").append('<div id="defaultAccordion" class="rup_accordion">\t\t\t\t\t\t<h1><a>Head 1</a></h1>\t\t\t\t\t\t<div> Contenido 1</div>\t\t\t\t\t\t<h1><a>Head 2</a></h1>\t\t\t\t\t\t<div> Contenido 2</div>\t\t\t\t\t</div>\t\t\t\t\t<div id="alterAccordion" class="rup_accordion">\t\t\t\t\t\t<h1><a>Head 1</a></h1>\t\t\t\t\t\t<div> Contenido 1</div>\t\t\t\t\t\t<h1><a>Head 2</a></h1>\t\t\t\t\t\t<div> Contenido 2</div>\t\t\t\t\t</div>'),$("#defaultAccordion").rup_accordion({}),$("#alterAccordion").rup_accordion({collapsible:!0,disabled:!0,active:1,event:"mouseenter"}),e=$("#defaultAccordion"),o=$("#alterAccordion")})),afterEach((()=>{$("#content").html(""),$("#content").nextAll().remove()})),describe("Creación > ",(()=>{describe("Accordion con parametros por defecto > ",(()=>{it("Debe tener las clases apropiadas",(()=>{expect(e.hasClass("ui-accordion ui-widget ui-helper-reset rup_accordion_create")).toBeTruthy()})),it("Los header debe tener un span con el icono",(()=>{$("#defaultAccordion > h1 > span").each(((e,o)=>{expect($(o).hasClass("ui-accordion-header-icon ui-icon")).toBeTruthy()}))})),it("El contenido del div activo debe tener las clases apropiadas y ser visible",(()=>{let e=$("#defaultAccordion > h1.ui-accordion-header-active").attr("id");expect($('#defaultAccordion > div[aria-labelledby="'+e+'"]').hasClass("ui-accordion-content ui-corner-bottom ui-helper-reset ui-widget-content ui-accordion-content-active")).toBeTruthy(),expect($('#defaultAccordion > div[aria-labelledby="'+e+'"]').is(":visible")).toBeTruthy()})),it("El div que no este activo debe tener las clases apropiadas y estar hidden",(()=>{let e=$("#defaultAccordion > h1:not(.ui-accordion-header-active)").attr("id");expect($('#defaultAccordion > div[aria-labelledby="'+e+'"]').hasClass("ui-accordion-content ui-corner-bottom ui-helper-reset ui-widget-content")).toBeTruthy(),expect($('#defaultAccordion > div[aria-labelledby="'+e+'"]').is(":visible")).toBeFalsy()}))})),describe("Accordion con parametros personalizados > ",(()=>{it("Debe tener las clases apropiadas",(()=>{expect(o.hasClass("ui-accordion ui-widget ui-helper-reset ui-accordion-disabled ui-state-disabled rup_accordion_create")).toBeTruthy()})),it("Los header debe tener un span con el icono",(()=>{$("#alterAccordion > h1 > span").each(((e,o)=>{expect($(o).hasClass("ui-accordion-header-icon ui-icon")).toBeTruthy()}))})),it("El contenido del div activo debe tener las clases apropiadas y ser visible",(()=>{let e=$($("#alterAccordion > h1")[1]).attr("id");expect($('#alterAccordion > div[aria-labelledby="'+e+'"]').hasClass("ui-accordion-content ui-corner-bottom ui-helper-reset ui-widget-content ui-accordion-content-active")).toBeTruthy(),expect($('#alterAccordion > div[aria-labelledby="'+e+'"]').is(":visible")).toBeTruthy()})),it("El div que no este activo debe tener las clases apropiadas y estar hidden",(()=>{let e=$("#alterAccordion > h1:not(.ui-accordion-header-active)").attr("id");expect($('#alterAccordion > div[aria-labelledby="'+e+'"]').hasClass("ui-accordion-content ui-corner-bottom ui-helper-reset ui-widget-content")).toBeTruthy(),expect($('#alterAccordion > div[aria-labelledby="'+e+'"]').is(":visible")).toBeFalsy()}))}))})),describe("Funcionalidad > ",(()=>{describe("Accordion con parámetros por defecto > ",(()=>{describe("Cambiar la vista activa con click > ",(()=>{var o;beforeEach((()=>{e.accordion("option","animate",0),$("h1:not(.ui-accordion-header-active)",e).trigger("click"),o=$("h1.ui-accordion-header-active",e).attr("id")})),it("Debe cambiarse la clase de active",(()=>{expect($("h1#"+o,e).hasClass("ui-accordion-header-active")).toBeTruthy(),expect($("h1:not(#"+o+")",e).hasClass("ui-accordion-header-active")).toBeFalsy()})),it("Debe togglearse la visibilidad de los contenidos",(()=>{expect($('div[aria-labelledby="'+o+'"]',e).is(":visible")).toBeTruthy(),expect($('div:not([aria-labelledby="'+o+'"])',e).is(":visible")).toBeFalsy()}))}))})),describe("Accordion con parámetros personalizados > ",(()=>{describe("Cambiar la vista activa con mouseenter > ",(()=>{var e;beforeEach((()=>{o.accordion("option","animate",0),o.rup_accordion("enable"),$("h1:not(.ui-accordion-header-active)",o).trigger("mouseenter"),e=$("h1.ui-accordion-header-active",o).attr("id")})),it("Debe cambiarse la clase de active",(()=>{expect($("h1#"+e).hasClass("ui-accordion-header-active")).toBeTruthy(),expect($("h1:not(#"+e+")",o).hasClass("ui-accordion-header-active")).toBeFalsy()})),it("Debe togglearse la visibilidad de los contenidos",(()=>{expect($('div[aria-labelledby="'+e+'"]',o).is(":visible")).toBeTruthy(),expect($('div:not([aria-labelledby="'+e+'"])',o).is(":visible")).toBeFalsy()}))}))}))})),describe("Métodos públicos > ",(()=>{describe("Método activate > ",(()=>{describe("Accordion con parametros por defecto",(()=>{var o;beforeEach((()=>{o=$("h1.ui-accordion-header-active",e).attr("id"),e.rup_accordion("activate",1)})),it("Debe cambiarse la clase activa",(()=>{expect($("h1.ui-accordion-header-active",e).attr("id")).not.toBe(o)}))})),describe("Accordion con parametros personalizados",(()=>{var e;beforeEach((()=>{e=$("h1.ui-accordion-header-active",o).attr("id"),o.rup_accordion("activate",0)})),it("Debe cambiarse la clase activa",(()=>{expect($("h1.ui-accordion-header-active",o).attr("id")).not.toBe(e)}))}))})),describe("Método disable > ",(()=>{describe("Accordion con parametros por defecto",(()=>{beforeEach((()=>{e.rup_accordion("disable")})),it("Debe poder deshabilitarse",(()=>{expect(e.hasClass("ui-accordion-disabled ui-state-disabled")).toBe(!0)}))})),describe("Accordion con parametros personalizados",(()=>{beforeEach((()=>{o.rup_accordion("disable")})),it("Debe poder deshabilitarse",(()=>{expect(o.hasClass("ui-accordion-disabled ui-state-disabled")).toBe(!0)}))}))})),describe("Método enable > ",(()=>{describe("Accordion con parametros por defecto",(()=>{beforeEach((()=>{e.rup_accordion("disable"),e.rup_accordion("enable")})),it("Debe poder habilitarse",(()=>{expect(e.hasClass("ui-accordion-disabled ui-state-disabled")).not.toBe(!0)}))})),describe("Accordion con parametros personalizados",(()=>{beforeEach((()=>{o.rup_accordion("disable"),o.rup_accordion("enable")})),it("Debe poder habilitarse",(()=>{expect(o.hasClass("ui-accordion-disabled ui-state-disabled")).not.toBe(!0)}))}))})),describe("Método widget > ",(()=>{describe("Accordion con parámetros por defecto",(()=>{it("Debe ser el objeto de accordion",(()=>{expect(e.rup_accordion("widget").attr("id")).toBe($(e[0]).attr("id"))}))})),describe("Accordion con parámetros personalizados",(()=>{it("Debe ser el objeto de accordion",(()=>{expect(o.rup_accordion("widget").attr("id")).toBe($(o[0]).attr("id"))}))}))})),describe("Método destroy > ",(()=>{describe("Accordion con parametros por defecto",(()=>{beforeEach((()=>{e.rup_accordion("destroy")})),it("Deben desaparecer las clases del accordion",(()=>{expect(e.hasClass("ui-accordion ui-widget rup_accordion_create")).toBe(!1)}))})),describe("Accordion con parametros personalizados",(()=>{beforeEach((()=>{o.rup_accordion("destroy")})),it("Deben desaparecer las clases del accordion",(()=>{expect(o.hasClass("ui-accordion ui-widget rup_accordion_create")).toBe(!1)}))}))})),describe("Método option > ",(()=>{describe("Accordion con parametros por defecto > ",(()=>{beforeEach((()=>{e.rup_accordion("option","collapsible",!0),e.rup_accordion("option","validation",!1),e.rup_accordion("option","disabled",!0),e.rup_accordion("option","active",1),e.rup_accordion("option","animate","bounceslide"),e.rup_accordion("option","event","mouseenter"),e.rup_accordion("option","header",".header-class"),e.rup_accordion("option","icons",{header:"ui-icon-triangle-1-s",activeHeader:"ui-icon-triangle-1-e"})})),it("Las opciones deben cambiar",(()=>{expect(e.rup_accordion("option","collapsible")).toBeTruthy(),expect(e.rup_accordion("option","validation")).toBeFalsy(),expect(e.rup_accordion("option","disabled")).toBeTruthy(),expect(e.rup_accordion("option","active")).toBe(1),expect(e.rup_accordion("option","animate")).toBe("bounceslide"),expect(e.rup_accordion("option","event")).toBe("mouseenter"),expect(e.rup_accordion("option","header")).toBe(".header-class"),expect(JSON.stringify(e.rup_accordion("option","icons"))).toBe('{"header":"ui-icon-triangle-1-s","activeHeader":"ui-icon-triangle-1-e"}')}))})),describe("Accordion con parametros personalizados > ",(()=>{beforeEach((()=>{o.rup_accordion("option","collapsible",!1),o.rup_accordion("option","validation",!1),o.rup_accordion("option","disabled",!1),o.rup_accordion("option","active",0),o.rup_accordion("option","animate","bounceslide"),o.rup_accordion("option","event","click"),o.rup_accordion("option","header",".header-class"),o.rup_accordion("option","icons",{header:"ui-icon-triangle-1-s",activeHeader:"ui-icon-triangle-1-e"})})),it("Las opciones deben cambiar",(()=>{expect(o.rup_accordion("option","collapsible")).toBeFalsy(),expect(o.rup_accordion("option","validation")).toBeFalsy(),expect(o.rup_accordion("option","disabled")).toBeFalsy(),expect(o.rup_accordion("option","active")).toBe(0),expect(o.rup_accordion("option","animate")).toBe("bounceslide"),expect(o.rup_accordion("option","event")).toBe("click"),expect(o.rup_accordion("option","header")).toBe(".header-class"),expect(JSON.stringify(o.rup_accordion("option","icons"))).toBe('{"header":"ui-icon-triangle-1-s","activeHeader":"ui-icon-triangle-1-e"}')}))}))}))}))}));