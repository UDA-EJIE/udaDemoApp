import"jquery";import*as testutils from"../common/specCommonUtils.js";import*as creator from"./treeCreator";import"jasmine-jquery";import"rup.tree";var treeCreator={html:e=>{creator.treeHtml(e)},json:e=>{creator.treeJson(e)},xml:e=>{creator.treeXML(e)}};function testTree(e){var t=new $.Deferred;"xml"!==e?describe("Test Tree ["+e+"] >",(()=>{var r;beforeAll((e=>{testutils.loadCss(e)})),afterAll((()=>{t.resolve()})),beforeEach((t=>{treeCreator[e]((()=>{r=$("#exampleTree"),t()}))})),afterEach((()=>{$("#content").html("")})),describe("Creación > ",(()=>{it("Se le añade el rupType:",(()=>{expect(r.is('[rupType="tree"]')).toBeTruthy()})),it("Posee la clase del subyacente:",(()=>{expect(r.is(".jstree")).toBeTruthy()})),it("Contiene los checkbox:",(()=>{r.rup_tree("openAll"),expect($("i.jstree-checkbox").length).toBe(3)}))})),describe("Métodos públicos > ",(()=>{describe("Metodos getRupValue y setRupValue > ",(()=>{beforeEach((()=>{r.rup_tree("openAll"),r.rup_tree("setRupValue",["node11"])})),it("La selección se refleja en el DOM:",(()=>{expect($("#node11").is('[aria-selected="true"]')).toBeTruthy()})),it("El método getRupValue devuelve el valor esperado:",(()=>{expect(r.rup_tree("getRupValue")).toEqual(["node11"])}))}))}))})):t.resolve()}$.when(testTree("html")).then(testTree("json")).then(testTree("xml"));