DEFINE DIR_SCRIPTS = '/aplic/aa79b/scripts';

-- CREAR UNA NUEVA COLUMNA NIVEL_CALIDAD_094
ALTER TABLE AA79B94T00
ADD "NIVEL_CALIDAD_094" NUMBER(1);
COMMENT ON COLUMN AA79B94T00.NIVEL_CALIDAD_094 IS 'Nivel de calidad';

-- CREAR UNA NUEVA COLUMNA POR_PENALIZACION_CALIDAD_094
ALTER TABLE AA79B94T00
ADD "POR_PENAL_CALIDAD_094" NUMBER(3);
COMMENT ON COLUMN AA79B94T00.POR_PENAL_CALIDAD_094 IS 'Porcentaje de pensalización calidad';

-- CREAR UNA NUEVA COLUMNA IMPORTE_PENALIZACION_CALIDAD_094
ALTER TABLE AA79B94T00
ADD "IMP_PENAL_CALIDAD_094" NUMBER(8,2);
COMMENT ON COLUMN AA79B94T00.IMP_PENAL_CALIDAD_094 IS 'Importe de penalización calidad';

-- CARGAR NUEVAS COLUMNAS
UPDATE AA79B94T00 SET NIVEL_CALIDAD_094 = 5, POR_PENAL_CALIDAD_094 = 0.0, IMP_PENAL_CALIDAD_094 = 0.0;

-- CREAR SECUENCIA PARA TABLA A7
CREATE SEQUENCE AA79B.AA79BA7Q00 MINVALUE 13 MAXVALUE 99999 INCREMENT BY 1 START WITH 13 NOCACHE ORDER;

-- CAMBIAR DESC EU DE TAREA 6
UPDATE AA79B15S01 SET DESC_EU_015 = 'Interpretazio-lan baten aurrekontua sortzea' WHERE ID_015 = 6;

-- ANYADIR COLUMNA NUEVA A AA79BA3T00
ALTER TABLE AA79BA3T00 ADD (
    "TIPO_FACTURACION_0A3" VARCHAR2(1) NULL);
    
ALTER TABLE AA79B94T00 MODIFY NIVEL_CALIDAD_094 NUMBER(2);

ALTER TABLE AA79BA7T00 MODIFY VAR_PLANTILLA_0A7 VARCHAR2(4000) NULL;
    
@@&DIR_SCRIPTS/Procedures/ACT_DATOS_PAGO_PROV.SQL;
-- LANZAR EL PL CREAR_TAREAS_DEFECTO
@@&DIR_SCRIPTS/Procedures/CREAR_TAREAS_DEFECTO.SQL;
-- LANZAR EL PL CALCULO_IMPORTES_INTER
@@&DIR_SCRIPTS/Procedures/CALCULO_IMPORTES_INTERPRETACION.SQL;

@@&DIR_SCRIPTS/Procedures/REINICIAR_CALCULO_INTERPRETACION.SQL;

@@&DIR_SCRIPTS/Procedures/CREAR_TAREAS_RELACIONADAS.SQL;

@@&DIR_SCRIPTS/Vistas/informes/INF_SOLASKIDEAK.sql;
/
exit;