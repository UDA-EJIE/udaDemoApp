DECLARE

ANYO_AUX NUMBER(4):= '&1';
NUM_AUX NUMBER(6):= '&2';

ID_BITACORA NUMBER(2):= 0;

BEGIN
	
	SELECT MAX(ID_ESTADO_BITACORA_059) INTO ID_BITACORA FROM AA79B59T00 WHERE ANYO_059 = ANYO_AUX AND NUM_EXP_059 = NUM_AUX;
	ID_BITACORA:= ID_BITACORA + 1;
	
	Insert into AA79B59T00 (ANYO_059,NUM_EXP_059,ID_ESTADO_BITACORA_059,ID_ESTADO_EXP_059,ID_FASE_EXPEDIENTE_059,DATO_ADIC_059,INFO_ADIC_059,ID_RECHAZO_059,ID_REQUERIMIENTO_059,ID_ANULACION_059,FECHA_ALTA_059) 
	values (ANYO_AUX, NUM_AUX,ID_BITACORA,'6','10',null,null,null,null,null,sysdate);
	
	update AA79B51T00 set ESTADO_BITACORA_051 = ID_BITACORA WHERE NUM_EXP_051 = NUM_AUX AND ANYO_051= ANYO_AUX; 
	
	COMMIT;
		
END;
/